---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
 * sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
  "vendor/breakpoint/breakpoint",

  "themes",
  "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
  "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

  "include/mixins",
  "vendor/susy/susy",

  "layout/reset",
  "layout/base",

  "include/utilities",
  "layout/tables",
  "layout/buttons",
  "layout/notices",
  "layout/masthead",
  "layout/navigation",
  "layout/footer",
  "syntax",

  "layout/forms",

  "layout/page",
  "layout/archive",
  "layout/sidebar",
  "layout/json_cv",

  "vendor/font-awesome/fontawesome",
  "vendor/font-awesome/solid",
  "vendor/font-awesome/brands"
;

/* =====================================================
   Fix: Navigation & Header Overlap
   ===================================================== */

.masthead {
  position: sticky !important;
  top: 0 !important;
  z-index: 9999 !important;
}

html {
  scroll-padding-top: 5rem;
}

/* =====================================================
   Fix: Sidebar Overlapping Footer & Middle Scrollbar
   ===================================================== */

/* Ensure the main container holds children correctly */
#main {
  display: flex !important;
  flex-wrap: nowrap;
  align-items: flex-start;
  min-height: 80vh; /* Keeps footer down on short pages like Resume */
  overflow: visible !important;
}

/* Sidebar behavior: Sticky but contained */
.sidebar {
  position: sticky !important;
  top: 6rem; /* Adjust based on masthead height */
  height: auto !important;
  max-height: calc(100vh - 7rem);
  overflow-y: auto; /* Allows sidebar to scroll independently if too long */
  z-index: 10;
  padding-bottom: 2rem;
}

/* Hide scrollbar on sidebar for a cleaner look */
.sidebar::-webkit-scrollbar {
  display: none;
}
.sidebar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Page content area */
.archive, .page {
  flex: 1;
  padding-top: 2.5rem !important;
}

/* Footer: Force to bottom and clear sidebar */
.page__footer {
  position: relative !important;
  clear: both !important;
  z-index: 20;
  margin-top: 4rem !important;
  background-color: #333 !important; /* Matches your dark theme background */
  width: 100%;
}

/* Mobile Responsiveness: Stack sidebar on top of content */
@media (max-width: 1024px) {
  #main {
    flex-direction: column;
  }
  .sidebar {
    position: relative !important;
    top: 0 !important;
    max-height: none;
    width: 100%;
  }
}
